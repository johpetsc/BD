DROP TABLE IF EXISTS PESSOA;
DROP TABLE IF EXISTS CANDIDATO;
DROP TABLE IF EXISTS FOTO;
DROP TABLE IF EXISTS CARGO_POLITICO;
DROP TABLE IF EXISTS PARTIDO;
DROP TABLE IF EXISTS NOTICIA;
DROP TABLE IF EXISTS MIDIA;
DROP TABLE IF EXISTS MEIO_COMUNICACAO;

CREATE TABLE PESSOA(
  cpf INTEGER PRIMARY KEY,
  p_nome VARCHAR(15) NOT NULL,
  u_nome VARCHAR(15) NOT NULL,
  data_nascimento DATE NOT NULL,
  idade INTEGER NOT NULL,
  endereco VARCHAR(120) NOT NULL
);

CREATE TABLE CANDIDATO (
  num_id INTEGER PRIMARY KEY,
  cpf INTEGER NOT NULL,
  FOREIGN KEY(cpf) REFERENCES PESSOA(cpf)
);

CREATE TABLE FOTO (
  foto_id INTEGER PRIMARY KEY,
  cpf INTEGER NOT NULL,
  tipo_foto VARCHAR(20) NOT NULL,
  nome_foto VARCHAR(50) NOT NULL,
  tamanho_foto INTEGER NOT NULL,
  formato_foto VARCHAR(5) NOT NULL,
  FOREIGN KEY(cpf) REFERENCES PESSOA(cpf)
);

CREATE TABLE CARGO_POLITICO (
  id_cargo INTEGER PRIMARY KEY,
  num_id INTEGER NOT NULL,
  nome_cargo VARCHAR(50) NOT NULL,
  FOREIGN KEY(num_id) REFERENCES CANDIDATO(num_id)
);

CREATE TABLE PARTIDO (
  nome VARCHAR(20) PRIMARY KEY,
  num_id INTEGER NOT NULL,
  sigla VARCHAR(10) NOT NULL,
  data_fundacao DATE,
  FOREIGN KEY(num_id) REFERENCES CANDIDATO(num_id)
);

CREATE TABLE NOTICIA (
  noticia_id INTEGER PRIMARY KEY,
  data_publicacao DATE
);

CREATE TABLE MIDIA (
  id_midia INTEGER PRIMARY KEY,
  noticia_id INTEGER NOT NULL,
  tipo_midia VARCHAR(20) NOT NULL,
  nome_arq VARCHAR(30) NOT NULL,
  tamanho_arq INTEGER NOT NULL,
  formato_arq VARCHAR(5) NOT NULL,
  FOREIGN KEY(noticia_id) REFERENCES NOTICIA(noticia_id)
);

CREATE TABLE MEIO_COMUNICACAO(
  comunicacao_id INTEGER PRIMARY KEY,
  noticia_id INTEGER NOT NULL,
  tipo_meiocom VARCHAR(20) NOT NULL,
  data_postagem DATE,
  FOREIGN KEY(noticia_id) REFERENCES NOTICIA(noticia_id)
);
